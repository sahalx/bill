<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ship Product</title>
</head>
<body>

  <h1>Ship Product</h1>

  <form id="shipForm">
    <label for="productName">Product Name:</label>
    <input type="text" id="productName" name="productName" required>
    
    <label for="destinationAddress">Destination Address:</label>
    <textarea id="destinationAddress" name="destinationAddress" required></textarea>

    <button type="button" onclick="shipProduct()">Ship Product</button>
  </form>

  <script>
    function shipProduct() {
      // Replace 'YOUR_SHIPROCKET_API_KEY' and 'YOUR_OTHER_PARAMETERS' with actual values
      const apiKey = 'YOUR_SHIPROCKET_API_KEY';
      const apiUrl = 'https://apiv2.shiprocket.in/v1/';
      
      const productName = document.getElementById('productName').value;
      const destinationAddress = document.getElementById('destinationAddress').value;

      // Construct the payload for Shiprocket API
      const payload = {
        "order_id": "12345", // Replace with your order ID
        "order_date": "2022-01-01", // Replace with your order date
        "pickup_location": "Warehouse A", // Replace with your pickup location
        "billing_customer_name": "John Doe", // Replace with customer's name
        "billing_last_name": "Doe", // Replace with customer's last name
        "billing_address": "123 Main St", // Replace with customer's billing address
        // Add other necessary parameters based on Shiprocket API documentation
        // ...

        // Product details
        "products": [
          {
            "name": productName,
            "sku": "SKU123",
            "units": 1,
            "selling_price": 100.00,
            // Add other product details
            // ...
          }
        ],

        // Destination address
        "shipping_address": {
          "name": "Receiver Name",
          "address": destinationAddress,
          // Add other destination address details
          // ...
        }
      };

      fetch(`${apiUrl}orders/create/`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${apiKey}`
        },
        body: JSON.stringify(payload)
      })
      .then(response => response.json())
      .then(data => {
        console.log('Shiprocket API Response:', data);
        alert('Product shipped successfully!');
      })
      .catch(error => {
        console.error('Error shipping product:', error);
        alert('Error shipping product. Please try again.');
      });
    }
  </script>

</body>
</html>
